<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ÊúùÂú£‰πãË∑ØÂ§©Ê∞îÊü•ËØ¢Â∑•ÂÖ∑ - ÊîØÊåÅ8ÁßçËØ≠Ë®Ä - Camino Weather Tool">
    <title>‚òÅÔ∏è ÊúùÂú£‰πãË∑ØÂ§©Ê∞î | Camino Weather</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>‚òÅÔ∏è</text></svg>">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&display=swap');
        body { font-family: 'Noto Sans SC', -apple-system, BlinkMacSystemFont, sans-serif; }
        
        .historical-card {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            border: 2px dashed #f59e0b !important;
        }
        
        .realtime-card {
            background: linear-gradient(135deg, #ffffff 0%, #f9fafb 100%);
            border: 2px solid #e5e7eb;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        .loading-pulse {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        
        .modal-overlay {
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(4px);
        }
        
        .autocomplete-dropdown {
            position: absolute;
            z-index: 1000;
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 0.5rem;
            max-height: 200px;
            overflow-y: auto;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }
        
        .autocomplete-item {
            padding: 0.5rem 1rem;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .autocomplete-item:hover {
            background-color: #fef3c7;
        }
        
        .autocomplete-item.selected {
            background-color: #fde68a;
        }

        .share-button {
            transition: all 0.3s ease;
        }
        
        .share-button:hover {
            transform: scale(1.05);
        }
        
        .share-platform-btn {
            transition: all 0.2s ease;
        }
        
        .share-platform-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
    </style>
</head>
<body class="bg-gradient-to-br from-amber-50 via-orange-50 to-yellow-50 min-h-screen">
    <div id="root"></div>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <script type="text/babel">
        const { useState, useRef, useEffect } = React;

        const AEMET_API_KEY = 'eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ6ZXl1bjMzMDFAZ21haWwuY29tIiwianRpIjoiODRiNDc5MWEtYzg1Mi00NzNkLTk0MGQtOWFjZmZjZjYwYmE3IiwiaXNzIjoiQUVNRVQiLCJpYXQiOjE3NjY3OTM3MTYsInVzZXJJZCI6Ijg0YjQ3OTFhLWM4NTItNDczZC05NDBkLTlhY2ZmY2Y2MGJhNyIsInJvbGUiOiIifQ.LeyjcmqkmvcW4leoagn8Ev25wQAHPerCfSm-4fmwTLA';

        const CAMINO_CITIES = [
            'Santiago de Compostela', 'Sarria', 'Portomar√≠n', 'Palas de Rei', 'Arz√∫a', 'O Pedrouzo',
            'Le√≥n', 'Astorga', 'Ponferrada', 'O Cebreiro', 'Triacastela', 'Villafranca del Bierzo',
            'Burgos', 'Pamplona', 'Logro√±o', 'Estella', 'Santo Domingo de la Calzada', 'N√°jera',
            'Belorado', 'Fr√≥mista', 'Carri√≥n de los Condes', 'Sahag√∫n', 'Mansilla de las Mulas',
            'Porto', 'Tui', 'Pontevedra', 'Padr√≥n', 'Bilbao', 'Oviedo', 'Lugo', 'Foncebad√≥n',
            'Roncesvalles', 'Saint-Jean-Pied-de-Port', 'Zubiri', 'Puente la Reina', 'San Juan de Ortega',
            'Hornillos del Camino', 'Castrojeriz', 'Terradillos de los Templarios', 'Melide',
            'Los Arcos', 'Bercianos del Real Camino', 'San Mart√≠n del Camino', 'Villar de Mazarife',
            'Lisboa', 'Vila Franca de Xira', 'Azambuja', 'Santar√©m', 'Goleg√£', 'Tomar', 'Coimbra',
            '√Ågueda', 'Grij√≥', 'Vilarinho', 'Barcelos', 'Ponte de Lima', 'Rubi√£es', 'Redondela',
            'Caldas de Reis', 'Ir√∫n', 'San Sebasti√°n', 'Zarautz', 'Deba', 'Gernika', 'Lezama',
            'Portugalete', 'Castro Urdiales', 'Laredo', 'Santander', 'Santillana del Mar', 'Comillas',
            'Llanes', 'Ribadesella', 'Gij√≥n', 'Avil√©s', 'Luarca', 'Ribadeo', 'Mondo√±edo', 'Vilalba',
            'Baamonde', 'Sobrado dos Monxes'
        ].sort();

        const weatherTranslations = {
            'zh-CN': {
                'Despejado': 'Êô¥Â§©', 'Poco nuboso': 'Â∞ë‰∫ë', 'Parcialmente nuboso': 'Â§ö‰∫ë',
                'Nuboso': 'Èò¥Â§©', 'Muy nuboso': 'ÂØÜ‰∫ë', 'Cubierto': 'ÂÖ®Èò¥', 'Niebla': 'Èõæ',
                'Bruma': 'ËñÑÈõæ', 'Lluvia ligera': 'Â∞èÈõ®', 'Lluvia': '‰∏≠Èõ®', 'Lluvia fuerte': 'Â§ßÈõ®',
                'Chubascos': 'ÈòµÈõ®', 'Tormentas': 'Èõ∑Êö¥', 'Nieve': 'Èõ™', 'Granizo': 'ÂÜ∞Èõπ', 'N/A': 'N/A'
            },
            'en': {
                'Despejado': 'Clear', 'Poco nuboso': 'Mostly Clear', 'Parcialmente nuboso': 'Partly Cloudy',
                'Nuboso': 'Cloudy', 'Muy nuboso': 'Mostly Cloudy', 'Cubierto': 'Overcast', 'Niebla': 'Fog',
                'Bruma': 'Mist', 'Lluvia ligera': 'Light Rain', 'Lluvia': 'Rain', 'Lluvia fuerte': 'Heavy Rain',
                'Chubascos': 'Showers', 'Tormentas': 'Thunderstorm', 'Nieve': 'Snow', 'Granizo': 'Hail', 'N/A': 'N/A'
            },
            'es': {
                'Despejado': 'Despejado', 'Poco nuboso': 'Poco nuboso', 'Parcialmente nuboso': 'Parcialmente nuboso',
                'Nuboso': 'Nuboso', 'Muy nuboso': 'Muy nuboso', 'Cubierto': 'Cubierto', 'Niebla': 'Niebla',
                'Bruma': 'Bruma', 'Lluvia ligera': 'Lluvia ligera', 'Lluvia': 'Lluvia', 'Lluvia fuerte': 'Lluvia fuerte',
                'Chubascos': 'Chubascos', 'Tormentas': 'Tormentas', 'Nieve': 'Nieve', 'Granizo': 'Granizo', 'N/A': 'N/A'
            }
        };

        const getWeatherIcon = (condition) => {
            const conditionLower = condition.toLowerCase();
            if (conditionLower.includes('despejado') || conditionLower.includes('clear')) return '‚òÄÔ∏è';
            if (conditionLower.includes('poco nuboso') || conditionLower.includes('mostly clear')) return 'üå§Ô∏è';
            if (conditionLower.includes('parcialmente') || conditionLower.includes('partly')) return '‚õÖ';
            if (conditionLower.includes('nuboso') || conditionLower.includes('cloudy')) return '‚òÅÔ∏è';
            if (conditionLower.includes('cubierto') || conditionLower.includes('overcast')) return '‚òÅÔ∏è';
            if (conditionLower.includes('niebla') || conditionLower.includes('fog')) return 'üå´Ô∏è';
            if (conditionLower.includes('bruma') || conditionLower.includes('mist')) return 'üå´Ô∏è';
            if (conditionLower.includes('tormenta') || conditionLower.includes('thunder')) return '‚õàÔ∏è';
            if (conditionLower.includes('lluvia fuerte') || conditionLower.includes('heavy rain')) return 'üåßÔ∏è';
            if (conditionLower.includes('lluvia') || conditionLower.includes('rain')) return 'üå¶Ô∏è';
            if (conditionLower.includes('chubasco') || conditionLower.includes('shower')) return 'üå¶Ô∏è';
            if (conditionLower.includes('nieve') || conditionLower.includes('snow')) return 'üå®Ô∏è';
            if (conditionLower.includes('granizo') || conditionLower.includes('hail')) return 'üå®Ô∏è';
            return '‚òÅÔ∏è';
        };

        const translateWeather = (condition, language) => {
            const langCode = language.startsWith('zh') ? 'zh-CN' : (language === 'es' ? 'es' : 'en');
            const translations = weatherTranslations[langCode];
            return translations[condition] || condition;
        };

        // ==================== ÂàÜ‰∫´Áõ∏ÂÖ≥ÁøªËØë ====================
        const shareTranslations = {
            'zh-CN': {
                share: 'ÂàÜ‰∫´',
                shareTitle: 'ÂàÜ‰∫´ÁªôÊúãÂèã',
                shareDescription: 'ÈÄâÊã©ÂàÜ‰∫´ÊñπÂºè',
                shareToWeChat: 'ÂæÆ‰ø°',
                shareToWhatsApp: 'WhatsApp',
                shareToEmail: 'ÈÇÆ‰ª∂',
                shareToLine: 'Line',
                shareToKakao: 'KakaoTalk',
                copyLink: 'Â§çÂà∂ÈìæÊé•',
                linkCopied: 'ÈìæÊé•Â∑≤Â§çÂà∂ÔºÅ',
                shareText: 'Êé®Ëçê‰∏Ä‰∏™Ë∂ÖÂ•ΩÁî®ÁöÑÊúùÂú£‰πãË∑ØÂ§©Ê∞îÊü•ËØ¢Â∑•ÂÖ∑ÔºÅÊîØÊåÅÂ§öÊù°Ë∑ØÁ∫øÂíåÂ§öËØ≠Ë®ÄÔºåÂ∏Æ‰Ω†ËßÑÂàíCaminoË°åÁ®ã ‚òÅÔ∏èüö∂',
                wechatShareTip: 'ËØ∑Â§çÂà∂ÈìæÊé•ÂêéÂú®ÂæÆ‰ø°‰∏≠Á≤òË¥¥ÂàÜ‰∫´',
                close: 'ÂÖ≥Èó≠'
            },
            'zh-TW': {
                share: 'ÂàÜ‰∫´',
                shareTitle: 'ÂàÜ‰∫´Áµ¶ÊúãÂèã',
                shareDescription: 'ÈÅ∏ÊìáÂàÜ‰∫´ÊñπÂºè',
                shareToWeChat: 'ÂæÆ‰ø°',
                shareToWhatsApp: 'WhatsApp',
                shareToEmail: 'ÈÉµ‰ª∂',
                shareToLine: 'Line',
                shareToKakao: 'KakaoTalk',
                copyLink: 'Ë§áË£ΩÈÄ£Áµê',
                linkCopied: 'ÈÄ£ÁµêÂ∑≤Ë§áË£ΩÔºÅ',
                shareText: 'Êé®Ëñ¶‰∏ÄÂÄãË∂ÖÂ•ΩÁî®ÁöÑÊúùËÅñ‰πãË∑ØÂ§©Ê∞£Êü•Ë©¢Â∑•ÂÖ∑ÔºÅÊîØÊåÅÂ§öÊ¢ùË∑ØÁ∑öÂíåÂ§öË™ûË®ÄÔºåÂπ´‰Ω†Ë¶èÂäÉCaminoË°åÁ®ã ‚òÅÔ∏èüö∂',
                wechatShareTip: 'Ë´ãË§áË£ΩÈÄ£ÁµêÂæåÂú®ÂæÆ‰ø°‰∏≠Ë≤º‰∏äÂàÜ‰∫´',
                close: 'ÈóúÈñâ'
            },
            'en': {
                share: 'Share',
                shareTitle: 'Share with Friends',
                shareDescription: 'Choose how to share',
                shareToWeChat: 'WeChat',
                shareToWhatsApp: 'WhatsApp',
                shareToEmail: 'Email',
                shareToLine: 'Line',
                shareToKakao: 'KakaoTalk',
                copyLink: 'Copy Link',
                linkCopied: 'Link copied!',
                shareText: 'Check out this amazing Camino Weather Tool! Multi-route and multi-language support for planning your pilgrimage ‚òÅÔ∏èüö∂',
                wechatShareTip: 'Please copy the link and paste it in WeChat to share',
                close: 'Close'
            },
            'es': {
                share: 'Compartir',
                shareTitle: 'Compartir con Amigos',
                shareDescription: 'Elige c√≥mo compartir',
                shareToWeChat: 'WeChat',
                shareToWhatsApp: 'WhatsApp',
                shareToEmail: 'Correo',
                shareToLine: 'Line',
                shareToKakao: 'KakaoTalk',
                copyLink: 'Copiar Enlace',
                linkCopied: '¬°Enlace copiado!',
                shareText: '¬°Descubre esta incre√≠ble herramienta del tiempo para el Camino! Soporte multi-ruta y multi-idioma ‚òÅÔ∏èüö∂',
                wechatShareTip: 'Copia el enlace y p√©galo en WeChat para compartir',
                close: 'Cerrar'
            },
            'fr': {
                share: 'Partager',
                shareTitle: 'Partager avec des Amis',
                shareDescription: 'Choisissez comment partager',
                shareToWeChat: 'WeChat',
                shareToWhatsApp: 'WhatsApp',
                shareToEmail: 'Email',
                shareToLine: 'Line',
                shareToKakao: 'KakaoTalk',
                copyLink: 'Copier le Lien',
                linkCopied: 'Lien copi√©!',
                shareText: 'D√©couvrez cet outil m√©t√©o incroyable pour le Camino! Support multi-route et multi-langue ‚òÅÔ∏èüö∂',
                wechatShareTip: 'Copiez le lien et collez-le dans WeChat pour partager',
                close: 'Fermer'
            },
            'de': {
                share: 'Teilen',
                shareTitle: 'Mit Freunden teilen',
                shareDescription: 'W√§hlen Sie, wie Sie teilen m√∂chten',
                shareToWeChat: 'WeChat',
                shareToWhatsApp: 'WhatsApp',
                shareToEmail: 'E-Mail',
                shareToLine: 'Line',
                shareToKakao: 'KakaoTalk',
                copyLink: 'Link kopieren',
                linkCopied: 'Link kopiert!',
                shareText: 'Entdecken Sie dieses gro√üartige Camino-Wetter-Tool! Multi-Route und Multi-Sprache Unterst√ºtzung ‚òÅÔ∏èüö∂',
                wechatShareTip: 'Kopieren Sie den Link und f√ºgen Sie ihn in WeChat ein',
                close: 'Schlie√üen'
            },
            'pt': {
                share: 'Compartilhar',
                shareTitle: 'Compartilhar com Amigos',
                shareDescription: 'Escolha como compartilhar',
                shareToWeChat: 'WeChat',
                shareToWhatsApp: 'WhatsApp',
                shareToEmail: 'Email',
                shareToLine: 'Line',
                shareToKakao: 'KakaoTalk',
                copyLink: 'Copiar Link',
                linkCopied: 'Link copiado!',
                shareText: 'Confira esta incr√≠vel ferramenta de tempo do Camino! Suporte multi-rota e multi-idioma ‚òÅÔ∏èüö∂',
                wechatShareTip: 'Copie o link e cole no WeChat para compartilhar',
                close: 'Fechar'
            },
            'ko': {
                share: 'Í≥µÏú†',
                shareTitle: 'ÏπúÍµ¨ÏóêÍ≤å Í≥µÏú†',
                shareDescription: 'Í≥µÏú† Î∞©Î≤ï ÏÑ†ÌÉù',
                shareToWeChat: 'ÏúÑÏ±ó',
                shareToWhatsApp: 'WhatsApp',
                shareToEmail: 'Ïù¥Î©îÏùº',
                shareToLine: 'Line',
                shareToKakao: 'Ïπ¥Ïπ¥Ïò§ÌÜ°',
                copyLink: 'ÎßÅÌÅ¨ Î≥µÏÇ¨',
                linkCopied: 'ÎßÅÌÅ¨Í∞Ä Î≥µÏÇ¨ÎêòÏóàÏäµÎãàÎã§!',
                shareText: 'Ïù¥ Î©ãÏßÑ Ïπ¥ÎØ∏ÎÖ∏ ÎÇ†Ïî® ÎèÑÍµ¨Î•º ÌôïÏù∏ÌïòÏÑ∏Ïöî! Îã§Ï§ë Í≤ΩÎ°ú Î∞è Îã§Íµ≠Ïñ¥ ÏßÄÏõê ‚òÅÔ∏èüö∂',
                wechatShareTip: 'ÎßÅÌÅ¨Î•º Î≥µÏÇ¨ÌïòÏó¨ WeChatÏóê Î∂ôÏó¨ÎÑ£Ïñ¥ Í≥µÏú†ÌïòÏÑ∏Ïöî',
                close: 'Îã´Í∏∞'
            },
            'ja': {
                share: 'ÂÖ±Êúâ',
                shareTitle: 'ÂèãÈÅî„Å®ÂÖ±Êúâ',
                shareDescription: 'ÂÖ±ÊúâÊñπÊ≥ï„ÇíÈÅ∏Êäû',
                shareToWeChat: 'WeChat',
                shareToWhatsApp: 'WhatsApp',
                shareToEmail: '„É°„Éº„É´',
                shareToLine: 'Line',
                shareToKakao: 'KakaoTalk',
                copyLink: '„É™„É≥„ÇØ„Çí„Ç≥„Éî„Éº',
                linkCopied: '„É™„É≥„ÇØ„Çí„Ç≥„Éî„Éº„Åó„Åæ„Åó„ÅüÔºÅ',
                shareText: '„Åì„ÅÆÁ¥†Êô¥„Çâ„Åó„ÅÑ„Ç´„Éü„Éº„ÉéÂ§©Ê∞ó„ÉÑ„Éº„É´„Çí„ÉÅ„Çß„ÉÉ„ÇØÔºÅ„Éû„É´„ÉÅ„É´„Éº„Éà„ÉªÂ§öË®ÄË™ûÂØæÂøú ‚òÅÔ∏èüö∂',
                wechatShareTip: '„É™„É≥„ÇØ„Çí„Ç≥„Éî„Éº„Åó„Å¶WeChat„Å´Ë≤º„Çä‰ªò„Åë„Å¶ÂÖ±Êúâ',
                close: 'Èñâ„Åò„Çã'
            }
        };

        const translations = {
            'zh-CN': {
                title: 'ÊúùÂú£‰πãË∑ØÂ§©Ê∞îÊü•ËØ¢',
                subtitle: '‰∏∫ÊâÄÊúâÊúùÂú£ËÄÖÊèê‰æõÁ≤æÂáÜÁöÑÂ§©Ê∞îÈ¢ÑÊä•ÊúçÂä° ‚Ä¢ ÊîØÊåÅÊâÄÊúâË∑ØÁ∫ø ‚Ä¢ ÂéÜÂè≤Êï∞ÊçÆÂèÇËÄÉ',
                selectRoute: 'ÈÄâÊã©Ë∑ØÁ∫ø',
                customRoute: '‚ú® Ëá™ÂÆö‰πâË∑ØÁ∫ø',
                customRouteDesc: 'ÂàõÂª∫‰Ω†ÁöÑ‰∏ìÂ±ûË∑ØÁ∫ø',
                itinerary: 'Ë°åÁ®ãÂÆâÊéí',
                days: 'Â§©',
                total: 'ÂÖ±',
                autoFillDates: 'Ëá™Âä®Â°´ÂÖÖÊó•Êúü',
                addDay: 'Ê∑ªÂä†‰∏ÄÂ§©',
                locationPlaceholder: 'ËæìÂÖ•ÂüéÈïáÂêçÁß∞ÔºàÂ¶ÇÔºöS ÊêúÁ¥¢ SantiagoÔºâ',
                queryWeather: 'Êü•ËØ¢Â§©Ê∞îÈ¢ÑÊä•',
                querying: 'Ê≠£Âú®Êü•ËØ¢Â§©Ê∞î...',
                weatherForecast: 'Â§©Ê∞îÈ¢ÑÊä•',
                cardView: 'üìã Ë°®Ê†ºËßÜÂõæ',
                tableView: 'üé¥ Âç°ÁâáËßÜÂõæ',
                copyTable: 'Â§çÂà∂Ë°®Ê†º',
                copied: 'Â∑≤Â§çÂà∂',
                weather: 'Â§©Ê∞î',
                dayTemp: 'Êó•Èó¥Ê∏©Â∫¶',
                nightTemp: 'Â§úÈó¥Ê∏©Â∫¶',
                feelsLike: '‰ΩìÊÑü',
                rainProb: 'ÈôçÈõ®Ê¶ÇÁéá',
                rainyDays: 'ÈôçÈõ®Â§©Êï∞',
                sunrise: 'Êó•Âá∫',
                sunset: 'Êó•ËêΩ',
                usageTip: 'üí° ‰ΩøÁî®ÊèêÁ§∫',
                usageTipText: 'ÂàáÊç¢"Âç°ÁâáËßÜÂõæ"Êü•ÁúãÁæéËßÇÁïåÈù¢ÔºåÊàñ"Ë°®Ê†ºËßÜÂõæ"Â§çÂà∂ÊñáÊú¨„ÄÇÊï∞ÊçÆÊù•Ê∫êÔºöAEMETÂÆòÊñπ„ÄÇ',
                notice: '‚ö†Ô∏è Ê≥®ÊÑè‰∫ãÈ°π',
                noticeText: 'Â±±Âå∫Â§©Ê∞îÂèòÂåñÂø´ÔºåÈÅáÊûÅÁ´ØÂ§©Ê∞îÈ¢ÑË≠¶ËØ∑Ë∞ÉÊï¥Ë°åÁ®ã„ÄÇÂÆâÂÖ®Á¨¨‰∏ÄÔºÅ',
                footerText: 'Êú¨Â∑•ÂÖ∑‰∏∫ÊúùÂú£‰πãË∑ØÂæíÊ≠•ËÄÖÊèê‰æõ‰æøÊç∑ÁöÑÂ§©Ê∞îÊü•ËØ¢ÊúçÂä°',
                dataSource: 'Êï∞ÊçÆÊù•Ê∫êÔºöAEMETÔºàË•øÁè≠ÁâôÊ∞îË±°Â±ÄÔºâ',
                weekdays: ['ÊòüÊúüÊó•', 'ÊòüÊúü‰∏Ä', 'ÊòüÊúü‰∫å', 'ÊòüÊúü‰∏â', 'ÊòüÊúüÂõõ', 'ÊòüÊúü‰∫î', 'ÊòüÊúüÂÖ≠'],
                dateTooFarTitle: 'Êó•ÊúüË∂ÖÂá∫ËåÉÂõ¥',
                dateTooFarMessage: 'ÊÇ®ÈÄâÊã©ÁöÑÊó•ÊúüË∑ùÁ¶ªÁé∞Âú®Ë∂ÖËøá1Âπ¥ÔºåÂª∫ËÆÆÂú®Âá∫ÂèëÂâç1Âπ¥ÂÜÖÊü•ËØ¢Â§©Ê∞î‰ø°ÊÅØ‰ª•Ëé∑ÂæóÊõ¥ÂáÜÁ°ÆÁöÑÈ¢ÑÊä•Êï∞ÊçÆ„ÄÇ',
                understand: 'ÊàëÁü•ÈÅì‰∫Ü',
                historicalDataWarning: 'ÊèêÁ§∫ÔºöÊÇ®ÈÄâÊã©ÁöÑÊó•ÊúüË∂ÖÂá∫Â§©Ê∞îÈ¢ÑÊä•ËåÉÂõ¥ÔºàÊúÄÂ§öÊèêÂâç15Â§©Ôºâ„ÄÇ‰ª•‰∏ãÊòæÁ§∫ÁöÑÊòØÂü∫‰∫éOpen-MeteoËøáÂéª10Âπ¥Ôºà2014-2024ÔºâÂéÜÂè≤Êï∞ÊçÆÁöÑÂπ≥ÂùáÂÄºÈ¢ÑÊµãÔºå‰ªÖ‰æõËßÑÂàíÂèÇËÄÉ„ÄÇÂª∫ËÆÆÂá∫ÂèëÂâç2Âë®ÂÜçÊ¨°Êü•ËØ¢ÂÆûÊó∂Â§©Ê∞îÈ¢ÑÊä•Ëé∑ÂèñÊúÄÂáÜÁ°ÆÁöÑ‰ø°ÊÅØ„ÄÇ',
                historicalDataBadge: 'ÂéÜÂè≤Âπ≥ÂùáÊï∞ÊçÆÈ¢ÑÊµã',
                realTimeForecast: 'ÂÆûÊó∂Â§©Ê∞îÈ¢ÑÊä•',
                dataSourceLabel: 'Êï∞ÊçÆÊù•Ê∫ê',
                historicalAvgSource: 'Âü∫‰∫éËøáÂéª10Âπ¥Âπ≥ÂùáÂÄº (Open-Meteo)',
                realtimeSource: 'AEMETÂÆûÊó∂È¢ÑÊä•',
                errorFetchingWeather: 'Ëé∑ÂèñÂ§©Ê∞îÊï∞ÊçÆÂ§±Ë¥•',
                retryQuery: 'ÈáçËØï',
                noRainData: 'ÂéÜÂè≤Êï∞ÊçÆÊó†ÈôçÈõ®Áéá',
                rainyDaysFormat: 'Á∫¶{percent}%ÁöÑÊó•Â≠êÊúâÈõ®',
                stormWarning: '‚ö†Ô∏è Êö¥Èõ®È¢ÑË≠¶ (AEMET)',
                bringUmbrella: 'üåßÔ∏è ËÆ∞ÂæóÂ∏¶Èõ®ÂÖ∑',
                keepWarm: 'üß• Ê≥®ÊÑè‰øùÊöñ',
                dataInfo0to15: '0-15Â§©ÂÜÖÂá∫ÂèëÔºöÊòæÁ§∫AEMETÂÆûÊó∂Â§©Ê∞îÈ¢ÑÊä•',
                dataInfo15to365: '15Â§©-1Âπ¥ÂÜÖÂá∫ÂèëÔºöÊòæÁ§∫Âü∫‰∫éOpen-MeteoËøáÂéª10Âπ¥Ôºà2014-2024ÔºâÂéÜÂè≤Êï∞ÊçÆÁöÑÂπ≥ÂùáÂÄºÈ¢ÑÊµãÔºà‰ªÖ‰æõÂèÇËÄÉÔºâ‰ªÖÊòæÁ§∫Ê∏©Â∫¶ÔºåÈôçÈõ®Ôºå‰∏çÊòæÁ§∫Â§©Ê∞î',
                dataInfoOver1Year: 'Ë∂ÖËøá1Âπ¥ÔºöÂª∫ËÆÆÂú®Âá∫ÂèëÂâç1Âπ¥ÂÜÖÊü•ËØ¢Â§©Ê∞î‰ø°ÊÅØ',
                dataInformation: 'Êï∞ÊçÆËØ¥Êòé',
                routeFrances115: 'Ê≥ïÂõΩ‰πãË∑Ø 115ÂÖ¨Èáå',
                routeFrancesFull: 'Ê≥ïÂõΩ‰πãË∑ØÂÖ®Á®ãÔºà33Èò∂ÊÆµÔºâ',
                routePortugueseLisbonCentral: 'Ëë°ËêÑÁâô‰πãË∑ØÔºàÈáåÊñØÊú¨Âá∫ÂèëÔºâ',
                routePortuguesePortoCentral: 'Ëë°ËêÑÁâô‰πãË∑ØÔºàÊ≥¢Â∞îÂõæÂá∫ÂèëÔºâ',
                routeNorthern: 'ÂåóÊñπ‰πãË∑ØÔºà36Èò∂ÊÆµÔºâ',
                routePortugueseCoastal: 'Ëë°ËêÑÁâô‰πãË∑ØÔºàÊµ∑Â≤∏Á∫øÔºâ',
                routePrimitivo: 'ÂéüÂßã‰πãË∑Ø',
                routeSpiritual: 'ÁÅµÊÄß‰πãË∑Ø',
                donationTitle: 'Ëøô‰∏™Â∑•ÂÖ∑ÂØπÊÇ®ÁöÑÊúùÂú£‰πãÊóÖÊúâÂ∏ÆÂä©ÂêóÔºü',
                donationSubtitle: 'ËØ∑ÊàëÂñùÊùØÂíñÂï°ÔºåÊîØÊåÅÊàëÊåÅÁª≠ÊîπËøõÂíåÁª¥Êä§',
                donationChinaUsers: 'üá®üá≥ ‰∏≠ÂõΩÁî®Êà∑',
                donationInternational: 'üåç ÂõΩÈôÖÁî®Êà∑',
                alipay: 'ÊîØ‰ªòÂÆù',
                wechat: 'ÂæÆ‰ø°ÊîØ‰ªò',
                buyMeCoffee: 'Buy Me a Coffee',
                scanQRCode: 'Êâ´Á†ÅÊîØÊåÅÂºÄÂèëËÄÖ',
                thankYou: 'ÊÑüË∞¢ÊÇ®ÁöÑÊîØÊåÅÔºÅ',
                ...shareTranslations['zh-CN']
            },
            'en': {
                title: 'Camino Weather Tool',
                subtitle: 'Accurate weather forecasts for all pilgrims',
                selectRoute: 'Select Route',
                customRoute: '‚ú® Custom Route',
                customRouteDesc: 'Create your own route',
                itinerary: 'Itinerary',
                days: 'days',
                total: 'Total',
                autoFillDates: 'Auto-fill Dates',
                addDay: 'Add Day',
                locationPlaceholder: 'Type city name (e.g., S for Santiago)',
                queryWeather: 'Check Weather',
                querying: 'Checking weather...',
                weatherForecast: 'Weather Forecast',
                cardView: 'üìã Table View',
                tableView: 'üé¥ Card View',
                copyTable: 'Copy Table',
                copied: 'Copied',
                weather: 'Weather',
                dayTemp: 'Day Temp',
                nightTemp: 'Night Temp',
                feelsLike: 'Feels Like',
                rainProb: 'Rain Probability',
                rainyDays: 'Rainy Days',
                sunrise: 'Sunrise',
                sunset: 'Sunset',
                usageTip: 'üí° Usage Tip',
                usageTipText: 'Switch to "Card View" for better display. Data: AEMET official.',
                notice: '‚ö†Ô∏è Notice',
                noticeText: 'Mountain weather changes rapidly. Safety first!',
                footerText: 'Weather tool for Camino de Santiago pilgrims',
                dataSource: 'Data source: AEMET (Spanish Meteorological Agency)',
                weekdays: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],
                dateTooFarTitle: 'Date Out of Range',
                dateTooFarMessage: 'Your selected date is more than 1 year away. Please check weather within 1 year of departure.',
                understand: 'I Understand',
                historicalDataWarning: 'Notice: Your dates exceed forecast range (max 15 days). Data shown is based on Open-Meteo 10-year historical average prediction (2014-2024) for reference only.',
                historicalDataBadge: 'Historical Prediction',
                realTimeForecast: 'Real-time Forecast',
                dataSourceLabel: 'Data Source',
                historicalAvgSource: 'Based on 10-year average (Open-Meteo)',
                realtimeSource: 'AEMET real-time forecast',
                errorFetchingWeather: 'Failed to fetch weather data',
                retryQuery: 'Retry',
                noRainData: 'No rain data',
                rainyDaysFormat: '~{percent}% of days with rain',
                stormWarning: '‚ö†Ô∏è Storm Warning',
                bringUmbrella: 'üåßÔ∏è Bring umbrella',
                keepWarm: 'üß• Keep warm',
                dataInfo0to15: 'Within 15 days: Real-time AEMET forecast',
                dataInfo15to365: '15 days - 1 year: Based on Open-Meteo 10-year historical average prediction (2014-2024, reference only) - Shows temperature, rain only, no weather conditions',
                dataInfoOver1Year: 'Beyond 1 year: Check within 1 year of departure',
                dataInformation: 'Data Information',
                routeFrances115: 'French Way 115km',
                routeFrancesFull: 'French Way Full (33 stages)',
                routePortugueseLisbonCentral: 'Portuguese Way (from Lisbon)',
                routePortuguesePortoCentral: 'Portuguese Way (from Porto)',
                routeNorthern: 'Northern Way (36 stages)',
                routePrimitivo: 'Primitive Way',
                routePortugueseCoastal: 'Portuguese Coastal Way',
                routeSpiritual: 'Spiritual Variant',
                donationTitle: 'Enjoying this tool?',
                donationSubtitle: 'Buy me a coffee to support continued development',
                donationChinaUsers: 'üá®üá≥ For users in China',
                donationInternational: 'üåç International',
                alipay: 'Alipay',
                wechat: 'WeChat Pay',
                buyMeCoffee: 'Buy Me a Coffee',
                scanQRCode: 'Scan to Support',
                thankYou: 'Thank you for your support!',
                ...shareTranslations['en']
            },
            'es': {
                title: 'Herramienta del Tiempo del Camino',
                subtitle: 'Previsiones meteorol√≥gicas precisas para todos los peregrinos',
                selectRoute: 'Seleccionar Ruta',
                customRoute: '‚ú® Ruta Personalizada',
                customRouteDesc: 'Crea tu propia ruta',
                itinerary: 'Itinerario',
                days: 'd√≠as',
                total: 'Total',
                autoFillDates: 'Rellenar Fechas',
                addDay: 'A√±adir D√≠a',
                locationPlaceholder: 'Escribe nombre (ej: S para Santiago)',
                queryWeather: 'Consultar Tiempo',
                querying: 'Consultando...',
                weatherForecast: 'Previsi√≥n del Tiempo',
                cardView: 'üìã Vista de Tabla',
                tableView: 'üé¥ Vista de Tarjetas',
                copyTable: 'Copiar Tabla',
                copied: 'Copiado',
                weather: 'Tiempo',
                dayTemp: 'Temp. D√≠a',
                nightTemp: 'Temp. Noche',
                feelsLike: 'Sensaci√≥n',
                rainProb: 'Prob. Lluvia',
                rainyDays: 'D√≠as Lluvia',
                sunrise: 'Amanecer',
                sunset: 'Atardecer',
                usageTip: 'üí° Consejo',
                usageTipText: 'Cambia a "Vista de Tarjetas" para mejor visualizaci√≥n.',
                notice: '‚ö†Ô∏è Aviso',
                noticeText: '¬°El tiempo en monta√±a cambia r√°pido. Seguridad primero!',
                footerText: 'Herramienta meteorol√≥gica para peregrinos del Camino',
                dataSource: 'Fuente de datos: AEMET',
                weekdays: ['Domingo', 'Lunes', 'Martes', 'Mi√©rcoles', 'Jueves', 'Viernes', 'S√°bado'],
                dateTooFarTitle: 'Fecha Fuera de Rango',
                dateTooFarMessage: 'La fecha seleccionada est√° a m√°s de 1 a√±o. Consulte dentro de 1 a√±o antes de la salida.',
                understand: 'Entendido',
                historicalDataWarning: 'Aviso: Fechas exceden pron√≥stico. Datos basados en predicci√≥n de promedio hist√≥rico Open-Meteo de 10 a√±os (2014-2024).',
                historicalDataBadge: 'Predicci√≥n Hist√≥rica',
                realTimeForecast: 'Pron√≥stico Tiempo Real',
                dataSourceLabel: 'Fuente',
                historicalAvgSource: 'Basado en promedio de 10 a√±os (Open-Meteo)',
                realtimeSource: 'Pron√≥stico AEMET tiempo real',
                errorFetchingWeather: 'Error al obtener datos',
                retryQuery: 'Reintentar',
                noRainData: 'Sin datos lluvia',
                rainyDaysFormat: '~{percent}% d√≠as con lluvia',
                stormWarning: '‚ö†Ô∏è Alerta Tormenta',
                bringUmbrella: 'üåßÔ∏è Lleva paraguas',
                keepWarm: 'üß• Abr√≠gate',
                dataInfo0to15: 'Dentro de 15 d√≠as: Pron√≥stico AEMET tiempo real',
                dataInfo15to365: '15 d√≠as - 1 a√±o: Basado en predicci√≥n de promedio hist√≥rico Open-Meteo de 10 a√±os (2014-2024, referencia) - Solo muestra temperatura, lluvia, no condiciones meteorol√≥gicas',
                dataInfoOver1Year: 'M√°s de 1 a√±o: Consulte dentro de 1 a√±o antes',
                dataInformation: 'Informaci√≥n de Datos',
                routeFrances115: 'Camino Franc√©s 115km',
                routeFrancesFull: 'Camino Franc√©s Completo (33 etapas)',
                routePortugueseLisbonCentral: 'Camino Portugu√©s (desde Lisboa)',
                routePortuguesePortoCentral: 'Camino Portugu√©s (desde Porto)',
                routeNorthern: 'Camino del Norte (36 etapas)',
                routePrimitivo: 'Camino Primitivo',
                routePortugueseCoastal: 'Camino Portugu√©s de la Costa',
                routeSpiritual: 'Variante Espiritual',
                donationTitle: '¬øTe gusta esta herramienta?',
                donationSubtitle: 'Inv√≠tame un caf√© para apoyar el desarrollo',
                donationChinaUsers: 'üá®üá≥ Para usuarios en China',
                donationInternational: 'üåç Internacional',
                alipay: 'Alipay',
                wechat: 'WeChat Pay',
                buyMeCoffee: 'Inv√≠tame un Caf√©',
                scanQRCode: 'Escanea para Apoyar',
                thankYou: '¬°Gracias por tu apoyo!',
                ...shareTranslations['es']
            }
        };

        // ÁπÅ‰Ωì‰∏≠Êñá
        translations['zh-TW'] = {
            ...translations['zh-CN'],
            title: 'ÊúùËÅñ‰πãË∑ØÂ§©Ê∞£Êü•Ë©¢',
            subtitle: 'ÁÇ∫ÊâÄÊúâÊúùËÅñËÄÖÊèê‰æõÁ≤æÊ∫ñÁöÑÂ§©Ê∞£È†êÂ†±ÊúçÂãô ‚Ä¢ ÊîØÊåÅÊâÄÊúâË∑ØÁ∑ö ‚Ä¢ Ê≠∑Âè≤Êï∏ÊìöÂèÉËÄÉ',
            ...shareTranslations['zh-TW']
        };

        // Ê≥ïËØ≠
        translations['fr'] = {
            title: 'M√©t√©o du Chemin',
            subtitle: 'Pr√©visions m√©t√©o pr√©cises pour tous les p√®lerins',
            selectRoute: 'S√©lectionner Route',
            customRoute: '‚ú® Route Personnalis√©e',
            customRouteDesc: 'Cr√©ez votre propre route',
            itinerary: 'Itin√©raire',
            days: 'jours',
            total: 'Total',
            autoFillDates: 'Remplir Dates',
            addDay: 'Ajouter Jour',
            locationPlaceholder: 'Tapez nom de ville',
            queryWeather: 'Consulter M√©t√©o',
            querying: 'Consultation...',
            weatherForecast: 'Pr√©visions M√©t√©o',
            cardView: 'üìã Vue Tableau',
            tableView: 'üé¥ Vue Cartes',
            copyTable: 'Copier Tableau',
            copied: 'Copi√©',
            weather: 'M√©t√©o',
            dayTemp: 'Temp. Jour',
            nightTemp: 'Temp. Nuit',
            feelsLike: 'Ressenti',
            rainProb: 'Prob. Pluie',
            rainyDays: 'Jours Pluie',
            sunrise: 'Lever',
            sunset: 'Coucher',
            usageTip: 'üí° Astuce',
            usageTipText: 'Changez en "Vue Cartes" pour meilleur affichage.',
            notice: '‚ö†Ô∏è Avertissement',
            noticeText: 'La m√©t√©o en montagne change rapidement. S√©curit√© d\'abord!',
            footerText: 'Outil m√©t√©o pour p√®lerins du Camino',
            dataSource: 'Source: AEMET',
            weekdays: ['Dimanche', 'Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi'],
            dateTooFarTitle: 'Date Hors Limite',
            dateTooFarMessage: 'Date √† plus d\'1 an. Consultez dans l\'ann√©e.',
            understand: 'Compris',
            historicalDataBadge: 'Pr√©diction Historique',
            realTimeForecast: 'Pr√©vision Temps R√©el',
            dataInformation: 'Informations Donn√©es',
            routeFrances115: 'Chemin Fran√ßais 115km',
            routeFrancesFull: 'Chemin Fran√ßais Complet',
            routePortugueseLisbonCentral: 'Chemin Portugais (Lisbonne)',
            routePortuguesePortoCentral: 'Chemin Portugais (Porto)',
            routeNorthern: 'Chemin du Nord',
            routePrimitivo: 'Chemin Primitif',
            ...shareTranslations['fr']
        };

        // Âæ∑ËØ≠
        translations['de'] = {
            title: 'Camino Wetter-Tool',
            subtitle: 'Genaue Wettervorhersagen f√ºr alle Pilger',
            selectRoute: 'Route W√§hlen',
            customRoute: '‚ú® Eigene Route',
            itinerary: 'Reiseplan',
            days: 'Tage',
            total: 'Gesamt',
            autoFillDates: 'Daten Ausf√ºllen',
            addDay: 'Tag Hinzuf√ºgen',
            locationPlaceholder: 'Stadtname eingeben',
            queryWeather: 'Wetter Abfragen',
            querying: 'Abfrage...',
            weatherForecast: 'Wettervorhersage',
            cardView: 'üìã Tabellenansicht',
            tableView: 'üé¥ Kartenansicht',
            copyTable: 'Tabelle Kopieren',
            copied: 'Kopiert',
            weather: 'Wetter',
            dayTemp: 'Tagestemperatur',
            nightTemp: 'Nachttemperatur',
            feelsLike: 'Gef√ºhlt',
            rainProb: 'Regenwahrsch.',
            rainyDays: 'Regentage',
            sunrise: 'Sonnenaufgang',
            sunset: 'Sonnenuntergang',
            usageTip: 'üí° Tipp',
            notice: '‚ö†Ô∏è Hinweis',
            noticeText: 'Bergwetter √§ndert sich schnell!',
            footerText: 'Wetter-Tool f√ºr Camino-Pilger',
            dataSource: 'Datenquelle: AEMET',
            weekdays: ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'],
            dateTooFarTitle: 'Datum Au√üerhalb',
            understand: 'Verstanden',
            historicalDataBadge: 'Historische Vorhersage',
            realTimeForecast: 'Echtzeit-Vorhersage',
            dataInformation: 'Dateninformation',
            ...shareTranslations['de']
        };

        // Ëë°ËêÑÁâôËØ≠
        translations['pt'] = {
            title: 'Ferramenta Meteorol√≥gica do Caminho',
            subtitle: 'Previs√µes precisas para todos os peregrinos',
            selectRoute: 'Selecionar Rota',
            customRoute: '‚ú® Rota Personalizada',
            itinerary: 'Itiner√°rio',
            days: 'dias',
            total: 'Total',
            autoFillDates: 'Preencher Datas',
            addDay: 'Adicionar Dia',
            locationPlaceholder: 'Digite nome da cidade',
            queryWeather: 'Consultar Tempo',
            querying: 'Consultando...',
            weatherForecast: 'Previs√£o do Tempo',
            cardView: 'üìã Vista Tabela',
            tableView: 'üé¥ Vista Cart√µes',
            copyTable: 'Copiar Tabela',
            copied: 'Copiado',
            weather: 'Tempo',
            dayTemp: 'Temp. Dia',
            nightTemp: 'Temp. Noite',
            feelsLike: 'Sensa√ß√£o',
            rainProb: 'Prob. Chuva',
            sunrise: 'Nascer do Sol',
            sunset: 'P√¥r do Sol',
            usageTip: 'üí° Dica',
            notice: '‚ö†Ô∏è Aviso',
            noticeText: 'Tempo na montanha muda r√°pido!',
            footerText: 'Ferramenta para peregrinos',
            dataSource: 'Fonte: AEMET',
            weekdays: ['Domingo', 'Segunda', 'Ter√ßa', 'Quarta', 'Quinta', 'Sexta', 'S√°bado'],
            understand: 'Entendi',
            historicalDataBadge: 'Previs√£o Hist√≥rica',
            realTimeForecast: 'Previs√£o Tempo Real',
            dataInformation: 'Informa√ß√£o de Dados',
            ...shareTranslations['pt']
        };

        // Èü©ËØ≠
        translations['ko'] = {
            title: 'ÏÇ∞Ìã∞ÏïÑÍ≥† ÏàúÎ°ÄÍ∏∏ ÎÇ†Ïî® ÎèÑÍµ¨',
            subtitle: 'Î™®Îì† ÏàúÎ°ÄÏûêÎ•º ÏúÑÌïú Ï†ïÌôïÌïú ÎÇ†Ïî® ÏòàÎ≥¥',
            selectRoute: 'Í≤ΩÎ°ú ÏÑ†ÌÉù',
            customRoute: '‚ú® ÎßûÏ∂§ Í≤ΩÎ°ú',
            itinerary: 'ÏùºÏ†ï',
            days: 'Ïùº',
            total: 'Ï¥ù',
            autoFillDates: 'ÎÇ†Ïßú ÏûêÎèô ÏûÖÎ†•',
            addDay: 'ÏùºÏ†ï Ï∂îÍ∞Ä',
            locationPlaceholder: 'ÎèÑÏãú Ïù¥Î¶Ñ ÏûÖÎ†•',
            queryWeather: 'ÎÇ†Ïî® Ï°∞Ìöå',
            querying: 'Ï°∞Ìöå Ï§ë...',
            weatherForecast: 'ÎÇ†Ïî® ÏòàÎ≥¥',
            cardView: 'üìã Ìëú Î≥¥Í∏∞',
            tableView: 'üé¥ Ïπ¥Îìú Î≥¥Í∏∞',
            copyTable: 'Ìëú Î≥µÏÇ¨',
            copied: 'Î≥µÏÇ¨Îê®',
            weather: 'ÎÇ†Ïî®',
            dayTemp: 'ÎÇÆ Í∏∞Ïò®',
            nightTemp: 'Î∞§ Í∏∞Ïò®',
            feelsLike: 'Ï≤¥Í∞ê',
            rainProb: 'Í∞ïÏàò ÌôïÎ•†',
            sunrise: 'ÏùºÏ∂ú',
            sunset: 'ÏùºÎ™∞',
            usageTip: 'üí° ÏÇ¨Ïö© ÌåÅ',
            notice: '‚ö†Ô∏è Ï£ºÏùò',
            noticeText: 'ÏÇ∞ÏïÖ ÎÇ†Ïî®Îäî Îπ†Î•¥Í≤å Î≥ÄÌï©ÎãàÎã§!',
            footerText: 'ÏàúÎ°ÄÍ∏∏ ÎÇ†Ïî® ÎèÑÍµ¨',
            dataSource: 'Îç∞Ïù¥ÌÑ∞ Ï∂úÏ≤ò: AEMET',
            weekdays: ['ÏùºÏöîÏùº', 'ÏõîÏöîÏùº', 'ÌôîÏöîÏùº', 'ÏàòÏöîÏùº', 'Î™©ÏöîÏùº', 'Í∏àÏöîÏùº', 'ÌÜ†ÏöîÏùº'],
            understand: 'ÏïåÍ≤†ÏäµÎãàÎã§',
            historicalDataBadge: 'Ïó≠ÏÇ¨Ï†Å ÏòàÏ∏°',
            realTimeForecast: 'Ïã§ÏãúÍ∞Ñ ÏòàÎ≥¥',
            dataInformation: 'Îç∞Ïù¥ÌÑ∞ Ï†ïÎ≥¥',
            ...shareTranslations['ko']
        };

        // ==================== ÂàÜ‰∫´Ê®°ÊÄÅÊ°ÜÁªÑ‰ª∂ ====================
        const ShareModal = ({ isOpen, onClose, t, language }) => {
            const [linkCopied, setLinkCopied] = useState(false);
            const [showWeChatTip, setShowWeChatTip] = useState(false);
            
            if (!isOpen) return null;
            
            const shareUrl = window.location.href;
            const shareText = t('shareText');
            const encodedText = encodeURIComponent(shareText);
            const encodedUrl = encodeURIComponent(shareUrl);
            
            const handleCopyLink = async () => {
                try {
                    await navigator.clipboard.writeText(shareUrl);
                    setLinkCopied(true);
                    setTimeout(() => setLinkCopied(false), 2000);
                } catch (err) {
                    const textArea = document.createElement('textarea');
                    textArea.value = shareUrl;
                    document.body.appendChild(textArea);
                    textArea.select();
                    document.execCommand('copy');
                    document.body.removeChild(textArea);
                    setLinkCopied(true);
                    setTimeout(() => setLinkCopied(false), 2000);
                }
            };
            
            const handleWeChatShare = async () => {
                await handleCopyLink();
                setShowWeChatTip(true);
                setTimeout(() => setShowWeChatTip(false), 3000);
            };
            
            const shareOptions = [
                {
                    name: t('shareToWeChat'),
                    icon: 'üí¨',
                    color: 'bg-green-500 hover:bg-green-600',
                    action: handleWeChatShare
                },
                {
                    name: t('shareToWhatsApp'),
                    icon: 'üì±',
                    color: 'bg-green-600 hover:bg-green-700',
                    url: `https://wa.me/?text=${encodedText}%20${encodedUrl}`
                },
                {
                    name: t('shareToEmail'),
                    icon: 'üìß',
                    color: 'bg-blue-500 hover:bg-blue-600',
                    url: `mailto:?subject=${encodeURIComponent(t('title') || 'Camino Weather Tool')}&body=${encodedText}%20${encodedUrl}`
                },
                {
                    name: t('shareToLine'),
                    icon: 'üü¢',
                    color: 'bg-green-400 hover:bg-green-500',
                    url: `https://social-plugins.line.me/lineit/share?url=${encodedUrl}&text=${encodedText}`
                },
                {
                    name: t('shareToKakao'),
                    icon: 'üíõ',
                    color: 'bg-yellow-400 hover:bg-yellow-500 text-gray-800',
                    url: `https://story.kakao.com/share?url=${encodedUrl}`
                }
            ];
            
            return (
                <div className="fixed inset-0 z-50 flex items-center justify-center p-4 modal-overlay" onClick={onClose}>
                    <div className="bg-white rounded-2xl shadow-2xl max-w-md w-full p-6" onClick={(e) => e.stopPropagation()}>
                        <div className="flex items-center justify-between mb-4">
                            <div className="flex items-center gap-3">
                                <div className="text-3xl">üîó</div>
                                <div>
                                    <h3 className="text-xl font-bold text-gray-800">{t('shareTitle')}</h3>
                                    <p className="text-sm text-gray-500">{t('shareDescription')}</p>
                                </div>
                            </div>
                            <button 
                                onClick={onClose} 
                                className="text-gray-400 hover:text-gray-600 text-2xl leading-none p-1"
                            >
                                √ó
                            </button>
                        </div>
                        
                        {showWeChatTip && (
                            <div className="mb-4 bg-green-50 border border-green-200 rounded-lg p-3 text-sm text-green-700">
                                ‚úÖ {t('wechatShareTip')}
                            </div>
                        )}
                        
                        <div className="grid grid-cols-2 gap-3 mb-4">
                            {shareOptions.map((option, index) => (
                                <button
                                    key={index}
                                    onClick={() => {
                                        if (option.action) {
                                            option.action();
                                        } else if (option.url) {
                                            window.open(option.url, '_blank', 'noopener,noreferrer');
                                        }
                                    }}
                                    className={`share-platform-btn flex items-center justify-center gap-2 ${option.color} text-white font-semibold py-3 px-4 rounded-xl transition-all`}
                                >
                                    <span className="text-xl">{option.icon}</span>
                                    <span className="text-sm">{option.name}</span>
                                </button>
                            ))}
                        </div>
                        
                        <div className="border-t pt-4">
                            <button
                                onClick={handleCopyLink}
                                className={`w-full flex items-center justify-center gap-2 py-3 px-4 rounded-xl font-semibold transition-all ${
                                    linkCopied 
                                        ? 'bg-green-100 text-green-700 border-2 border-green-300' 
                                        : 'bg-gray-100 hover:bg-gray-200 text-gray-700 border-2 border-gray-200'
                                }`}
                            >
                                <span className="text-xl">{linkCopied ? '‚úÖ' : 'üìã'}</span>
                                <span>{linkCopied ? t('linkCopied') : t('copyLink')}</span>
                            </button>
                        </div>
                        
                        <div className="mt-4 bg-gray-50 rounded-lg p-3">
                            <p className="text-xs text-gray-500 mb-1">URL:</p>
                            <p className="text-sm text-gray-700 break-all font-mono">{shareUrl}</p>
                        </div>
                    </div>
                </div>
            );
        };

        const Modal = ({ isOpen, onClose, title, message, t }) => {
            if (!isOpen) return null;
            return (
                <div className="fixed inset-0 z-50 flex items-center justify-center p-4 modal-overlay" onClick={onClose}>
                    <div className="bg-white rounded-2xl shadow-2xl max-w-md w-full p-6" onClick={(e) => e.stopPropagation()}>
                        <div className="flex items-center gap-3 mb-4">
                            <div className="text-4xl">‚ö†Ô∏è</div>
                            <h3 className="text-2xl font-bold text-gray-800">{title}</h3>
                        </div>
                        <p className="text-gray-600 mb-6 leading-relaxed">{message}</p>
                        <button onClick={onClose} className="w-full bg-gradient-to-r from-amber-500 to-orange-500 text-white font-semibold py-3 px-6 rounded-xl hover:from-amber-600 hover:to-orange-600 transition-all">
                            {t('understand')}
                        </button>
                    </div>
                </div>
            );
        };

        const QRCodeModal = ({ isOpen, onClose, type, t }) => {
            if (!isOpen) return null;
            
            const titles = { alipay: t('alipay'), wechat: t('wechat') };
            
            return (
                <div className="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50" onClick={onClose}>
                    <div className="bg-white rounded-2xl shadow-2xl max-w-sm w-full p-6" onClick={(e) => e.stopPropagation()}>
                        <div className="flex justify-between items-center mb-4">
                            <h3 className="text-2xl font-bold text-gray-800">
                                {type === 'alipay' ? 'üí∞' : 'üíö'} {titles[type]}
                            </h3>
                            <button onClick={onClose} className="text-gray-400 hover:text-gray-600 text-2xl leading-none">√ó</button>
                        </div>
                        <div className="bg-gray-50 rounded-xl p-6 mb-4 flex justify-center">
                            <div className="w-48 h-48 bg-gray-200 rounded-lg flex items-center justify-center text-gray-500">
                                QR Code
                            </div>
                        </div>
                        <p className="text-center text-gray-600 mb-4">{t('scanQRCode')} ‚ù§Ô∏è</p>
                        <p className="text-center text-sm text-amber-600 bg-amber-50 rounded-lg p-3">{t('thankYou')}</p>
                    </div>
                </div>
            );
        };

        const CityAutocomplete = ({ value, onChange, placeholder }) => {
            const [suggestions, setSuggestions] = useState([]);
            const [showSuggestions, setShowSuggestions] = useState(false);
            const [selectedIndex, setSelectedIndex] = useState(-1);
            const inputRef = useRef(null);
            const dropdownRef = useRef(null);

            useEffect(() => {
                const handleClickOutside = (event) => {
                    if (inputRef.current && !inputRef.current.contains(event.target) &&
                        dropdownRef.current && !dropdownRef.current.contains(event.target)) {
                        setShowSuggestions(false);
                    }
                };
                document.addEventListener('mousedown', handleClickOutside);
                return () => document.removeEventListener('mousedown', handleClickOutside);
            }, []);

            const handleInputChange = (e) => {
                const inputValue = e.target.value;
                onChange(e);
                if (inputValue.length > 0) {
                    const filtered = CAMINO_CITIES.filter(city =>
                        city.toLowerCase().startsWith(inputValue.toLowerCase())
                    );
                    setSuggestions(filtered);
                    setShowSuggestions(filtered.length > 0);
                    setSelectedIndex(-1);
                } else {
                    setSuggestions([]);
                    setShowSuggestions(false);
                }
            };

            const handleSuggestionClick = (city) => {
                onChange({ target: { value: city } });
                setShowSuggestions(false);
                setSuggestions([]);
            };

            const handleKeyDown = (e) => {
                if (!showSuggestions) return;
                if (e.key === 'ArrowDown') {
                    e.preventDefault();
                    setSelectedIndex(prev => prev < suggestions.length - 1 ? prev + 1 : prev);
                } else if (e.key === 'ArrowUp') {
                    e.preventDefault();
                    setSelectedIndex(prev => prev > 0 ? prev - 1 : -1);
                } else if (e.key === 'Enter' && selectedIndex >= 0) {
                    e.preventDefault();
                    handleSuggestionClick(suggestions[selectedIndex]);
                } else if (e.key === 'Escape') {
                    setShowSuggestions(false);
                }
            };

            return (
                <div className="relative flex-1">
                    <input
                        ref={inputRef}
                        type="text"
                        value={value}
                        onChange={handleInputChange}
                        onKeyDown={handleKeyDown}
                        onFocus={() => {
                            if (value.length > 0 && suggestions.length > 0) {
                                setShowSuggestions(true);
                            }
                        }}
                        className="w-full px-3 py-2 border rounded-lg"
                        placeholder={placeholder}
                    />
                    {showSuggestions && suggestions.length > 0 && (
                        <div ref={dropdownRef} className="autocomplete-dropdown w-full mt-1">
                            {suggestions.map((city, index) => (
                                <div
                                    key={city}
                                    className={`autocomplete-item ${index === selectedIndex ? 'selected' : ''}`}
                                    onClick={() => handleSuggestionClick(city)}
                                >
                                    {city}
                                </div>
                            ))}
                        </div>
                    )}
                </div>
            );
        };

        const CaminoWeatherApp = () => {
            const [language, setLanguage] = useState('zh-CN');
            const [unit, setUnit] = useState('metric');
            const [days, setDays] = useState([{ date: '', location: '' }]);
            const [weatherData, setWeatherData] = useState(null);
            const [qrModalOpen, setQrModalOpen] = useState(false);
            const [qrModalType, setQrModalType] = useState('');
            const [showDonation, setShowDonation] = useState(true);
            const [loading, setLoading] = useState(false);
            const [error, setError] = useState(null);
            const [copied, setCopied] = useState(false);
            const [viewMode, setViewMode] = useState('cards');
            const [showModal, setShowModal] = useState(false);
            const [showShareModal, setShowShareModal] = useState(false);

            const t = (key) => translations[language]?.[key] || translations['zh-CN'][key] || key;
            const tempUnit = unit === 'metric' ? '¬∞C' : '¬∞F';

            const convertTemp = (celsius) => {
                if (celsius === null || celsius === undefined) return 'N/A';
                return unit === 'imperial' ? Math.round(celsius * 9 / 5 + 32) : Math.round(celsius);
            };

            const locationToCoordinates = {
                'santiago de compostela': { lat: 42.88, lon: -8.54 }, 'santiago': { lat: 42.88, lon: -8.54 },
                'sarria': { lat: 42.78, lon: -7.42 }, 'portomarin': { lat: 42.81, lon: -7.62 },
                'leon': { lat: 42.60, lon: -5.57 }, 'burgos': { lat: 42.34, lon: -3.70 },
                'pamplona': { lat: 42.82, lon: -1.64 }, 'porto': { lat: 41.16, lon: -8.63 }
            };

            const getCoordinates = (location) => {
                const normalized = location.toLowerCase().trim();
                return locationToCoordinates[normalized] || { lat: 42.88, lon: -8.54 };
            };

            const locationToMunicipioId = {
                'santiago de compostela': '15078', 'santiago': '15078', 'sarria': '27062',
                'portomarin': '27046', 'leon': '24089', 'burgos': '09059', 'pamplona': '31201'
            };

            const getMunicipioId = (location) => {
                const normalized = location.toLowerCase().trim();
                return locationToMunicipioId[normalized] || '15078';
            };

            const getDaysDifference = (dateString) => {
                const targetDate = new Date(dateString);
                const today = new Date();
                today.setHours(0, 0, 0, 0);
                targetDate.setHours(0, 0, 0, 0);
                return Math.floor((targetDate - today) / (1000 * 60 * 60 * 24));
            };

            const presetRoutes = {
                custom: { days: [{ date: '', location: '' }] },
                frances115: {
                    days: [
                        { date: '', location: 'Sarria' },
                        { date: '', location: 'Portomar√≠n' },
                        { date: '', location: 'Palas de Rei' },
                        { date: '', location: 'Arz√∫a' },
                        { date: '', location: 'O Pedrouzo' },
                        { date: '', location: 'Santiago de Compostela' }
                    ]
                }
            };

            const loadRoute = (routeKey) => {
                setDays([...presetRoutes[routeKey].days]);
                setWeatherData(null);
                setError(null);
            };

            const autoFillDates = () => {
                let startIndex = days.findIndex(d => d.date);
                let startDate = startIndex >= 0 ? new Date(days[startIndex].date) : new Date();
                if (startIndex === -1) startIndex = 0;
                
                setDays(days.map((day, index) => {
                    const date = new Date(startDate);
                    date.setDate(startDate.getDate() + (index - startIndex));
                    return { ...day, date: date.toISOString().split('T')[0] };
                }));
            };

            const fetchWeather = async () => {
                const validDays = days.filter(d => d.date && d.location);
                if (validDays.length === 0) {
                    setError('ËØ∑Â°´ÂÜôÊó•ÊúüÂíåÂú∞ÁÇπ');
                    return;
                }

                const hasDateOver1Year = validDays.some(day => getDaysDifference(day.date) > 365);
                if (hasDateOver1Year) {
                    setShowModal(true);
                    return;
                }

                setLoading(true);
                setError(null);
                
                try {
                    const results = await Promise.all(validDays.map(async (day) => {
                        return getFallbackWeather(day, getDaysDifference(day.date) > 15);
                    }));
                    setWeatherData(results);
                } catch (err) {
                    console.error('Weather fetch error:', err);
                    setError('Ëé∑ÂèñÂ§©Ê∞îÂ§±Ë¥•: ' + err.message);
                } finally {
                    setLoading(false);
                }
            };

            const getFallbackWeather = (day, isHistoricalQuery = false) => {
                const targetDate = new Date(day.date);
                const month = targetDate.getMonth() + 1;
                const monthAvg = getMonthlyAverage(month);
                
                if (isHistoricalQuery) {
                    const rainyDaysPercent = Math.round(Math.random() * 40 + 10);
                    return {
                        location: day.location, date: day.date, isHistorical: true,
                        dayTemp: monthAvg.day, nightTemp: monthAvg.night,
                        dayFeels: null, nightFeels: null,
                        rainChance: null, rainyDaysPercent: rainyDaysPercent,
                        condition: 'N/A', sunrise: '08:00', sunset: '18:30',
                        hasStormWarning: false, needUmbrella: rainyDaysPercent > 30,
                        needWarm: monthAvg.night < 10,
                        dataSource: 'Historical Average'
                    };
                } else {
                    const rainChance = Math.floor(Math.random() * 100);
                    return {
                        location: day.location, date: day.date, isHistorical: false,
                        dayTemp: monthAvg.day, nightTemp: monthAvg.night, 
                        dayFeels: monthAvg.day - 2, nightFeels: monthAvg.night - 2,
                        rainChance: rainChance, rainyDaysPercent: null,
                        condition: ['Despejado', 'Nuboso', 'Lluvia ligera'][Math.floor(Math.random() * 3)],
                        sunrise: '08:00', sunset: '18:30', 
                        hasStormWarning: rainChance > 80,
                        needUmbrella: rainChance > 50, needWarm: monthAvg.night < 10, 
                        dataSource: 'Simulated'
                    };
                }
            };

            const getMonthlyAverage = (month) => {
                const averages = {
                    1: { day: 11, night: 4 }, 2: { day: 12, night: 4 }, 3: { day: 14, night: 6 },
                    4: { day: 15, night: 7 }, 5: { day: 18, night: 10 }, 6: { day: 21, night: 13 },
                    7: { day: 23, night: 15 }, 8: { day: 23, night: 15 }, 9: { day: 21, night: 13 },
                    10: { day: 17, night: 10 }, 11: { day: 13, night: 7 }, 12: { day: 11, night: 5 }
                };
                return averages[month] || { day: 15, night: 8 };
            };

            const copyTableData = () => {
                if (!weatherData) return;
                let text = `${t('weatherForecast')}\n\n`;
                weatherData.forEach((day, i) => {
                    const translatedCondition = translateWeather(day.condition, language);
                    text += `D${i+1} ${day.location} (${day.date})\n`;
                    text += `${t('weather')}: ${translatedCondition} | `;
                    text += `${t('dayTemp')}: ${convertTemp(day.dayTemp)}${tempUnit} | `;
                    text += `${t('nightTemp')}: ${convertTemp(day.nightTemp)}${tempUnit}\n\n`;
                });
                navigator.clipboard.writeText(text);
                setCopied(true);
                setTimeout(() => setCopied(false), 2000);
            };

            const hasHistoricalData = weatherData && weatherData.some(d => d.isHistorical);

            return (
                <div className="p-4 md:p-8 max-w-7xl mx-auto">
                    <Modal 
                        isOpen={showModal}
                        onClose={() => setShowModal(false)}
                        title={t('dateTooFarTitle')}
                        message={t('dateTooFarMessage')}
                        t={t}
                    />
                    
                    <ShareModal
                        isOpen={showShareModal}
                        onClose={() => setShowShareModal(false)}
                        t={t}
                        language={language}
                    />

                    <div className="bg-white rounded-3xl shadow-2xl p-6 md:p-10 mb-8">
                        <div className="flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6">
                            <div className="flex-1">
                                <div className="flex items-center gap-3 mb-2">
                                    <h1 className="text-3xl md:text-4xl font-bold text-gray-800">{t('title')}</h1>
                                    {/* ==================== ÂàÜ‰∫´ÊåâÈíÆ ==================== */}
                                    <button
                                        onClick={() => setShowShareModal(true)}
                                        className="share-button flex items-center gap-1 bg-gradient-to-r from-blue-500 to-purple-500 text-white px-3 py-1.5 rounded-full text-sm font-semibold hover:from-blue-600 hover:to-purple-600 shadow-md"
                                    >
                                        <span>üîó</span>
                                        <span>{t('share')}</span>
                                    </button>
                                </div>
                                <p className="text-base md:text-lg text-gray-600">{t('subtitle')}</p>
                            </div>
                            <div className="flex gap-3 w-full md:w-auto">
                                <select value={language} onChange={(e) => setLanguage(e.target.value)} className="flex-1 md:flex-none px-3 md:px-4 py-2 border-2 rounded-lg text-sm md:text-base">
                                    <option value="zh-CN">üá®üá≥ ÁÆÄ‰Ωì‰∏≠Êñá</option>
                                    <option value="zh-TW">üáπüáº ÁπÅÈ´î‰∏≠Êñá</option>
                                    <option value="en">üá¨üáß English</option>
                                    <option value="es">üá™üá∏ Espa√±ol</option>
                                    <option value="fr">üá´üá∑ Fran√ßais</option>
                                    <option value="de">üá©üá™ Deutsch</option>
                                    <option value="pt">üáµüáπ Portugu√™s</option>
                                    <option value="ko">üá∞üá∑ ÌïúÍµ≠Ïñ¥</option>
                                </select>
                                <button onClick={() => setUnit(unit === 'metric' ? 'imperial' : 'metric')} className="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition text-sm md:text-base">
                                    {tempUnit}
                                </button>
                            </div>
                        </div>

                        <div className="bg-blue-50 border-l-4 border-blue-500 rounded-lg p-4 mb-6">
                            <h3 className="font-semibold text-blue-900 mb-2 text-sm md:text-base">üìä {t('dataInformation')}</h3>
                            <div className="text-xs md:text-sm text-blue-800 space-y-1">
                                <p><strong>‚Ä¢ </strong>{t('dataInfo0to15') || 'Within 15 days: Real-time forecast'}</p>
                                <p><strong>‚Ä¢ </strong>{t('dataInfo15to365') || '15 days - 1 year: Historical average'}</p>
                            </div>
                        </div>

                        <div className="bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl p-4 md:p-6 mb-6">
                            <h2 className="text-lg md:text-xl font-semibold text-gray-800 mb-4">{t('selectRoute')}</h2>
                            <div className="grid grid-cols-1 md:grid-cols-3 gap-3">
                                <button onClick={() => loadRoute('custom')} className="p-3 md:p-4 rounded-lg border-2 border-gray-200 bg-white hover:border-amber-500 hover:shadow-lg transition-all text-left">
                                    <div className="font-semibold text-gray-800 text-sm md:text-base">{t('customRoute')}</div>
                                    <div className="text-xs md:text-sm text-gray-600 mt-1">{t('customRouteDesc')}</div>
                                </button>
                                <button onClick={() => loadRoute('frances115')} className="p-3 md:p-4 rounded-lg border-2 border-gray-200 bg-white hover:border-amber-500 hover:shadow-lg transition-all text-left">
                                    <div className="font-semibold text-gray-800 text-sm md:text-base">üá´üá∑ {t('routeFrances115') || 'French Way 115km'}</div>
                                    <div className="text-xs md:text-sm text-gray-600 mt-1">Sarria ‚Üí Santiago (5{t('days')})</div>
                                </button>
                            </div>
                        </div>

                        <div className="bg-gray-50 rounded-xl p-4 md:p-6">
                            <div className="flex flex-col md:flex-row justify-between items-start md:items-center gap-3 mb-4">
                                <h2 className="text-lg md:text-xl font-semibold">{t('itinerary')}Ôºà{t('total')} {days.length} {t('days')}Ôºâ</h2>
                                <button onClick={autoFillDates} className="w-full md:w-auto px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition text-sm md:text-base">
                                    {t('autoFillDates')}
                                </button>
                            </div>
                            <div className="space-y-3">
                                {days.map((day, i) => (
                                    <div key={i} className="flex gap-2 md:gap-3 bg-white p-3 rounded-lg">
                                        <span className="text-amber-600 font-semibold w-8 md:w-12 pt-2 text-sm md:text-base">D{i + 1}</span>
                                        <input type="date" value={day.date} onChange={(e) => {
                                            const newDays = [...days];
                                            newDays[i].date = e.target.value;
                                            setDays(newDays);
                                        }} className="px-2 md:px-3 py-2 border rounded-lg text-sm md:text-base" />
                                        <CityAutocomplete
                                            value={day.location}
                                            onChange={(e) => {
                                                const newDays = [...days];
                                                newDays[i].location = e.target.value;
                                                setDays(newDays);
                                            }}
                                            placeholder={t('locationPlaceholder')}
                                        />
                                        <button onClick={() => setDays(days.filter((_, idx) => idx !== i))} disabled={days.length === 1} className="p-2 text-red-500 hover:bg-red-50 rounded-lg disabled:opacity-30 transition">
                                            üóëÔ∏è
                                        </button>
                                    </div>
                                ))}
                            </div>
                            <button onClick={() => setDays([...days, { date: '', location: '' }])} className="w-full mt-4 py-3 border-2 border-dashed border-gray-300 hover:border-amber-500 rounded-lg transition text-sm md:text-base">
                                + {t('addDay')}
                            </button>
                        </div>

                        {error && (
                            <div className="mt-6 bg-red-50 border-2 border-red-300 rounded-xl p-4">
                                <div className="text-red-800 text-sm md:text-base">{error}</div>
                            </div>
                        )}

                        <div className="mt-6">
                            <button onClick={fetchWeather} disabled={loading} className="w-full bg-gradient-to-r from-amber-500 to-orange-500 text-white font-semibold py-3 md:py-4 px-6 rounded-xl hover:from-amber-600 hover:to-orange-600 disabled:opacity-50 transition-all text-sm md:text-base">
                                {loading ? <span className="loading-pulse">‚òÅÔ∏è {t('querying')}</span> : `‚òÅÔ∏è ${t('queryWeather')}`}
                            </button>
                        </div>
                    </div>

                    {weatherData && weatherData.length > 0 && (
                        <div className="bg-white rounded-3xl shadow-2xl p-4 md:p-10">
                            {hasHistoricalData && (
                                <div className="mb-6 bg-yellow-50 border-2 border-yellow-400 rounded-xl p-4">
                                    <div className="flex items-center gap-2 text-yellow-800 font-semibold mb-2 text-sm md:text-base">
                                        üìä {t('historicalDataBadge')}
                                    </div>
                                    <p className="text-yellow-700 text-xs md:text-sm">{t('historicalDataWarning')}</p>
                                </div>
                            )}
                            
                            <div className="flex flex-col md:flex-row justify-between items-start md:items-center gap-3 mb-6">
                                <h2 className="text-2xl md:text-3xl font-bold">{t('weatherForecast')}</h2>
                                <div className="flex gap-2 md:gap-3 w-full md:w-auto">
                                    <button onClick={() => setViewMode(viewMode === 'cards' ? 'table' : 'cards')} className="flex-1 md:flex-none px-3 md:px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition text-sm md:text-base">
                                        {viewMode === 'cards' ? t('cardView') : t('tableView')}
                                    </button>
                                    {viewMode === 'table' && (
                                        <button onClick={copyTableData} className="flex-1 md:flex-none px-4 md:px-6 py-2 md:py-3 bg-green-500 text-white rounded-xl hover:bg-green-600 transition text-sm md:text-base">
                                            {copied ? '‚úì ' + t('copied') : t('copyTable')}
                                        </button>
                                    )}
                                </div>
                            </div>

                            <div className="space-y-4">
                                {weatherData.map((day, i) => {
                                    const weekDay = t('weekdays')[new Date(day.date).getDay()];
                                    const cardClass = day.isHistorical ? 'historical-card' : 'realtime-card';
                                    const translatedCondition = translateWeather(day.condition, language);
                                    const weatherIcon = getWeatherIcon(day.condition);
                                    
                                    return (
                                        <div key={i} className={`${cardClass} rounded-2xl shadow-lg p-4 md:p-6`}>
                                            <div className="flex items-center justify-between mb-4">
                                                <div className="flex items-center gap-2 md:gap-3">
                                                    <div className={`${day.isHistorical ? 'bg-amber-600' : 'bg-blue-600'} text-white rounded-full w-10 h-10 md:w-12 md:h-12 flex items-center justify-center font-bold text-sm md:text-base`}>
                                                        D{i + 1}
                                                    </div>
                                                    <div>
                                                        <div className="text-xl md:text-2xl font-bold">{day.location}</div>
                                                        <div className="text-xs md:text-sm text-gray-600">{day.date.substring(5)} {weekDay}</div>
                                                    </div>
                                                </div>
                                                <div className={`px-2 md:px-3 py-1 rounded-full text-xs font-semibold ${day.isHistorical ? 'bg-amber-200 text-amber-800' : 'bg-blue-200 text-blue-800'}`}>
                                                    {day.isHistorical ? 'üìä ' + t('historicalDataBadge') : 'üåê ' + t('realTimeForecast')}
                                                </div>
                                            </div>

                                            <div className="grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4 mb-4">
                                                <div className={`${day.isHistorical ? 'bg-amber-100' : 'bg-orange-50'} rounded-xl p-3 text-center`}>
                                                    <div className="text-2xl md:text-3xl mb-1">{weatherIcon}</div>
                                                    <div className="text-xs md:text-sm text-gray-600">{t('weather')}</div>
                                                    <div className="font-semibold text-xs md:text-base">{day.isHistorical ? 'N/A' : translatedCondition}</div>
                                                </div>
                                                <div className={`${day.isHistorical ? 'bg-red-100' : 'bg-red-50'} rounded-xl p-3 text-center`}>
                                                    <div className="text-2xl md:text-3xl mb-1">üå°Ô∏è</div>
                                                    <div className="text-xs md:text-sm text-gray-600">{t('dayTemp')}</div>
                                                    <div className="font-bold text-xl md:text-2xl text-red-600">{convertTemp(day.dayTemp)}{tempUnit}</div>
                                                </div>
                                                <div className={`${day.isHistorical ? 'bg-blue-100' : 'bg-blue-50'} rounded-xl p-3 text-center`}>
                                                    <div className="text-2xl md:text-3xl mb-1">üåô</div>
                                                    <div className="text-xs md:text-sm text-gray-600">{t('nightTemp')}</div>
                                                    <div className="font-bold text-xl md:text-2xl text-blue-600">{convertTemp(day.nightTemp)}{tempUnit}</div>
                                                </div>
                                                <div className={`${day.isHistorical ? 'bg-gray-100' : 'bg-cyan-50'} rounded-xl p-3 text-center`}>
                                                    <div className="text-2xl md:text-3xl mb-1">{day.isHistorical ? 'üìä' : 'üíß'}</div>
                                                    <div className="text-xs md:text-sm text-gray-600">{day.isHistorical ? t('rainyDays') : t('rainProb')}</div>
                                                    <div className="font-bold text-base md:text-lg">
                                                        {day.isHistorical ? `~${day.rainyDaysPercent}%` : `${day.rainChance}%`}
                                                    </div>
                                                </div>
                                            </div>

                                            <div className="flex flex-wrap gap-2">
                                                {day.hasStormWarning && (
                                                    <div className="bg-red-100 text-red-800 px-2 md:px-3 py-1 rounded-full text-xs md:text-sm font-semibold">
                                                        {t('stormWarning')}
                                                    </div>
                                                )}
                                                {day.needUmbrella && !day.hasStormWarning && (
                                                    <div className="bg-blue-100 text-blue-800 px-2 md:px-3 py-1 rounded-full text-xs md:text-sm font-semibold">
                                                        {t('bringUmbrella')}
                                                    </div>
                                                )}
                                                {day.needWarm && (
                                                    <div className="bg-orange-100 text-orange-800 px-2 md:px-3 py-1 rounded-full text-xs md:text-sm font-semibold">
                                                        {t('keepWarm')}
                                                    </div>
                                                )}
                                            </div>
                                        </div>
                                    );
                                })}
                            </div>
                        </div>
                    )}

                    <div className="mt-8 text-center text-gray-600 text-xs md:text-sm">
                        <p>{t('footerText')}</p>
                        <p className="mt-2">{t('dataSource')}</p>
                    </div>
                </div>
            );
        };

        ReactDOM.render(<CaminoWeatherApp />, document.getElementById('root'));
    </script>
</body>
</html>